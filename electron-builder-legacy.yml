appId: 'com.ismaelbrandao.rizomalauncher.legacy'
productName: 'Rizoma Launcher Legacy'

# Nome do arquivo final
artifactName: 'Rizoma-Launcher-Legacy-${version}.${ext}'
copyright: 'Copyright ©2025 Gabirubs'

asar: true
compression: 'maximum'

files:
  - "**/*"
  - "!dist/**/*"
  - "!docs/**/*"
  - "!dev-app-update.yml"
  - "!electron-builder.yml"
  - "!.github/**/*"

extraResources:
  - 'libraries'

# CONFIGURAÇÃO EXCLUSIVA PARA macOS
mac:
  target:
    - target: 'dmg'
      arch: 'x64'  # APENAS x64, sem ARM64
  
  category: 'public.app-category.games'
  
  # ⚠️ CRÍTICO - Define versão mínima do macOS
  minimumSystemVersion: "10.13.0"
  
  # Desabilita recursos modernos que não funcionam no 10.13
  hardenedRuntime: false
  gatekeeperAssess: false
  identity: null  # Sem assinatura
  
  # Idiomas
  electronLanguages:
    - en
    - pt-BR

dmg:
  title: 'Rizoma Launcher Legacy ${version}'
  icon: 'build/icon.icns'
  window:
    width: 540
    height: 380
  contents:
    - x: 144
      y: 211
      type: file
    - x: 396
      y: 211
      type: link
      path: /Applications

# ⚠️ IMPORTANTE - Auto-update separado
publish:
  provider: github
  owner: IsmaelBrandao
  repo: RizomaLauncher
  releaseType: release

directories:
  buildResources: 'build'
  output: 'dist'